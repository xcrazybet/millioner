<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>X-BET PRO | Millioner Sovereign Terminal</title>
    
    <meta http-equiv="Content-Security-Policy" 
          content="default-src 'self'; 
                   script-src 'self' https://www.gstatic.com https://www.google.com; 
                   style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; 
                   font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com; 
                   img-src 'self' https://images.unsplash.com https://*.googleusercontent.com data:; 
                   connect-src 'self' https://*.firebaseio.com https://*.googleapis.com https://*.firebasestatistics.com;">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&family=JetBrains+Mono:wght@500;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <style>
        :root {
            --gold: #f59e0b;
            --blue-glow: #3b82f6;
            --bg: #020617;
            --surface: rgba(15, 23, 42, 0.8);
            --border: rgba(255, 255, 255, 0.08);
            --text-main: #f8fafc;
            --text-dim: #94a3b8;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: var(--bg);
            background-image: 
                radial-gradient(circle at 0% 0%, #1e1b4b 0%, transparent 50%),
                radial-gradient(circle at 100% 100%, #0c4a6e 0%, transparent 50%);
            color: var(--text-main);
            font-family: 'Plus Jakarta Sans', sans-serif;
            margin: 0;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* --- GLOBAL HEADER --- */
        .master-nav {
            height: 80px;
            padding: 0 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(2, 6, 23, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0; z-index: 2000;
        }

        .user-identity {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .balance-box {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid var(--blue-glow);
            padding: 8px 16px;
            border-radius: 12px;
            font-family: 'JetBrains Mono', monospace;
            color: var(--blue-glow);
            font-weight: 800;
        }

        .logout-btn {
            background: rgba(239, 68, 68, 0.1);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.2);
            padding: 8px 12px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        /* --- MAIN NAVIGATION --- */
        .menu-bar {
            display: flex;
            gap: 20px;
            padding: 15px 5%;
            background: rgba(255,255,255,0.02);
            overflow-x: auto;
            white-space: nowrap;
            scrollbar-width: none;
        }
        .menu-bar::-webkit-scrollbar { display: none; }

        .menu-link {
            text-decoration: none;
            color: var(--text-dim);
            font-weight: 700;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: 0.3s;
        }
        .menu-link.active, .menu-link:hover { color: var(--gold); }

        /* --- HERO & STORIES --- */
        .story-scroller {
            display: flex;
            gap: 15px;
            padding: 20px 5%;
            overflow-x: auto;
            scrollbar-width: none;
        }
        .story-circle {
            min-width: 80px; height: 80px;
            border-radius: 50%;
            padding: 3px;
            background: linear-gradient(45deg, var(--gold), var(--blue-glow));
            cursor: pointer;
        }
        .inner-story {
            width: 100%; height: 100%;
            border-radius: 50%;
            background-size: cover;
            border: 3px solid var(--bg);
        }

        /* --- LIVE WINNING DATA --- */
        .live-ticker {
            background: rgba(0,0,0,0.3);
            padding: 12px 0;
            border-y: 1px solid var(--border);
            overflow: hidden;
            white-space: nowrap;
        }
        .ticker-move {
            display: inline-block;
            animation: tickerScroll 40s linear infinite;
        }
        @keyframes tickerScroll { from { transform: translateX(0); } to { transform: translateX(-50%); } }

        /* --- GAME GRID --- */
        .section-title { padding: 0 5%; font-weight: 800; font-size: 1.4rem; margin: 30px 0 15px; }

        .game-arena {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 15px;
            padding: 0 5% 40px;
        }

        .game-card {
            aspect-ratio: 1/1.2;
            background: var(--surface);
            border-radius: 20px;
            border: 1px solid var(--border);
            overflow: hidden;
            position: relative;
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .game-card:hover { transform: translateY(-8px); border-color: var(--gold); }

        .game-img { width: 100%; height: 100%; object-fit: cover; }
        .game-label {
            position: absolute; bottom: 0; left: 0; right: 0;
            padding: 15px 10px;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            font-weight: 800; font-size: 0.8rem;
        }

        /* --- GLOBAL REACH SECTION --- */
        .geo-footer {
            background: rgba(15, 23, 42, 0.5);
            padding: 40px 5%;
            text-align: center;
            border-top: 1px solid var(--border);
        }
        .region-pill {
            display: inline-block;
            padding: 6px 15px;
            margin: 5px;
            background: rgba(255,255,255,0.05);
            border-radius: 100px;
            font-size: 0.75rem;
            color: var(--text-dim);
        }

        /* --- MOBILE ADAPTATION --- */
        @media (max-width: 600px) {
            .game-arena { grid-template-columns: 1fr 1fr; }
            .master-nav { height: 70px; }
        }
    </style>
</head>
<body>

    <header class="master-nav">
        <div class="user-identity">
            <div style="width: 40px; height: 40px; background: var(--gold); border-radius: 50%; display: grid; place-items: center; color: #000; font-weight: 900;" id="user-initial">U</div>
            <div>
                <div style="font-size: 0.6rem; color: var(--text-dim); letter-spacing: 1px;">WELCOME, MILLIONER</div>
                <div id="display-name" style="font-weight: 800; font-size: 0.9rem;">Loading...</div>
            </div>
        </div>
        <div style="display: flex; gap: 10px; align-items: center;">
            <div class="balance-box" id="display-balance">$0.00</div>
            <button class="logout-btn" id="logout-trigger"><i class="fas fa-power-off"></i></button>
        </div>
    </header>

    <nav class="menu-bar">
        <a href="index.html" class="menu-link active"><i class="fas fa-home"></i> HOME</a>
        <a href="games.html" class="menu-link"><i class="fas fa-gamepad"></i> GAMES</a>
        <a href="bets.html" class="menu-link"><i class="fas fa-receipt"></i> MY BETS</a>
        <a href="dashboard.html" class="menu-link"><i class="fas fa-vault"></i> DASHBOARD</a>
        <a href="contact.html" class="menu-link"><i class="fas fa-headset"></i> SUPPORT</a>
    </nav>

    <div class="story-scroller" id="story-container">
        </div>

    <div class="live-ticker">
        <div class="ticker-move" id="ticker-content">
            </div>
    </div>

    <h2 class="section-title">Most <span style="color: var(--gold)">Played</span></h2>
    <main class="game-arena">
        <div class="game-card" onclick="window.location.href='games/crash.html'">
            <img src="https://images.unsplash.com/photo-1614028674026-a65e31bfd27c?w=400" class="game-img">
            <div class="game-label">X-CRASH 2.0 <div style="color: var(--gold); font-size: 0.6rem;">98.2% RTP</div></div>
        </div>
        <div class="game-card" onclick="window.location.href='games/slots.html'">
            <img src="https://images.unsplash.com/photo-1518893063132-36e46dbe2428?w=400" class="game-img">
            <div class="game-label">GOLDEN SLOTS <div style="color: var(--gold); font-size: 0.6rem;">HOT</div></div>
        </div>
        <div class="game-card" onclick="window.location.href='games/roulette.html'">
            <img src="https://images.unsplash.com/photo-1596838132731-3301c3fd4317?w=400" class="game-img">
            <div class="game-label">LIVE ROULETTE <div style="color: #3b82f6; font-size: 0.6rem;">LIVE NOW</div></div>
        </div>
        <div class="game-card" onclick="window.location.href='games/mines.html'">
            <img src="https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=400" class="game-img">
            <div class="game-label">MINESWEEPER <div style="color: var(--gold); font-size: 0.6rem;">PROVABLY FAIR</div></div>
        </div>
    </main>

    <section class="geo-footer">
        <h3 style="font-size: 0.9rem; color: var(--text-dim); margin-bottom: 15px;">GLOBAL MILLIONER NETWORK</h3>
        <div class="region-pill">ASIA</div>
        <div class="region-pill">EUROPE</div>
        <div class="region-pill">MIDDLE EAST</div>
        <div class="region-pill">USA</div>
        <div class="region-pill">CANADA</div>
        <div class="region-pill">AUSTRALIA</div>
        <div class="region-pill">LATAM</div>
        <div style="margin-top: 20px; font-size: 0.6rem; color: #475569;">Â© 2025 MILLIONER PRO PLATFORM. SECURED BY END-TO-END QUANTUM ENCRYPTION.</div>
    </section>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { getFirestore, doc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyA72Yo_YGqno9PX25p3yQBvyflcaM-NqEM",
            authDomain: "x-bet-prod-jd.firebaseapp.com",
            projectId: "x-bet-prod-jd",
            storageBucket: "x-bet-prod-jd.firebasestorage.app",
            messagingSenderId: "499334334535",
            appId: "1:499334334535:web:bebc1bf817e24d9e3c4962"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // --- REAL-TIME DATA SIMULATION ---
        const players = ["A-King", "Alpha_99", "RichUser", "VegasPro", "ShadowBet", "MillionerX"];
        const games = ["Crash", "Slots", "Mines", "Roulette"];

        function simulateWinData() {
            const ticker = document.getElementById('ticker-content');
            let content = "";
            for(let i=0; i<15; i++) {
                const p = players[Math.floor(Math.random()*players.length)];
                const g = games[Math.floor(Math.random()*games.length)];
                const amt = (Math.random()*2500).toFixed(2);
                content += `<span style="margin-right:40px; font-size:0.8rem; font-weight:700;">
                                <i class="fas fa-trophy" style="color:var(--gold)"></i> ${p} WON 
                                <span style="color:#10b981">$${amt}</span> ON ${g}
                            </span>`;
            }
            ticker.innerHTML = content + content; // Duplicate for infinite loop
        }
        simulateWinData();

        function renderStories() {
            const container = document.getElementById('story-container');
            const storyImages = [
                'https://images.unsplash.com/photo-1511193311914-0346f16efe90?w=100',
                'https://images.unsplash.com/photo-1596838132731-3301c3fd4317?w=100',
                'https://images.unsplash.com/photo-1518893063132-36e46dbe2428?w=100',
                'https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=100',
                'https://images.unsplash.com/photo-1605870445919-838d190e8e1b?w=100'
            ];
            container.innerHTML = storyImages.map(img => `
                <div class="story-circle">
                    <div class="inner-story" style="background-image: url('${img}')"></div>
                </div>
            `).join('');
        }
        renderStories();

        // --- AUTH LOGIC ---
        onAuthStateChanged(auth, (user) => {
            if (user) {
                const name = user.email.split('@')[0].toUpperCase();
                document.getElementById('display-name').innerText = name;
                document.getElementById('user-initial').innerText = name.charAt(0);
                
                onSnapshot(doc(db, "wallets", user.uid), (snap) => {
                    if (snap.exists()) {
                        const bal = snap.data().balance || 0;
                        document.getElementById('display-balance').innerText = `$${bal.toLocaleString(undefined, {minimumFractionDigits: 2})}`;
                    }
                });
            } else {
                window.location.replace('login.html');
            }
        });

        document.getElementById('logout-trigger').onclick = () => {
            if(confirm("Terminate Millioner Session?")) signOut(auth);
        };
    </script>
</body>
</html>
