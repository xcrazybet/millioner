<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ LONDON 2020 - X-Bet</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- SINGLE FILE STYLE - London 2020 Branding -->
    <style>
        /* ===== LONDON 2020 STYLE ===== */
        :root {
            --primary: #ff4081;
            --secondary: #3949ab;
            --accent: #2196f3;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #ff5252;
            --dark: #0f0c29;
            --dark-light: #1a1a2e;
            --light: #f8f9fa;
            --text: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --gradient: linear-gradient(135deg, #ff4081 0%, #302b63 50%, #24243e 100%);
            --gradient-dark: linear-gradient(135deg, #7c3aed 0%, #1d4ed8 100%);
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
        }
        
        /* ===== CONTAINER ===== */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            border: 3px solid #ff4081;
        }
        
        /* ===== HEADER ===== */
        .header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 30px;
            border-bottom: 2px solid var(--secondary);
        }
        
        .logo {
            font-size: 48px;
            font-weight: bold;
            color: var(--primary);
            display: inline-flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo::before {
            content: "¬£";
            color: gold;
            font-size: 60px;
            text-shadow: 0 0 20px gold;
        }
        
        .status-badge {
            display: inline-block;
            padding: 8px 16px;
            background: var(--success);
            border-radius: 20px;
            font-size: 14px;
            margin-left: 15px;
            vertical-align: middle;
        }
        
        /* ===== NAVIGATION ===== */
        .nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            background: var(--secondary);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }
        
        .nav-btn:hover {
            background: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(255, 64, 129, 0.3);
        }
        
        /* ===== HERO SECTION ===== */
        .hero {
            text-align: center;
            padding: 60px 20px;
            background: rgba(255, 64, 129, 0.1);
            border-radius: 20px;
            margin: 30px 0;
            border: 2px dashed var(--primary);
        }
        
        .hero h1 {
            font-size: 56px;
            margin-bottom: 20px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .bonus-badge {
            background: linear-gradient(45deg, var(--primary), var(--warning));
            padding: 30px;
            border-radius: 15px;
            margin: 40px auto;
            max-width: 500px;
            box-shadow: 0 15px 35px rgba(255, 64, 129, 0.4);
        }
        
        .bonus-amount {
            font-size: 80px;
            font-weight: bold;
            color: gold;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.7);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        /* ===== USER SECTION ===== */
        .user-section {
            display: flex;
            align-items: center;
            gap: 20px;
            justify-content: center;
            margin: 20px 0;
        }
        
        .balance {
            background: var(--success);
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 20px;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3); }
            to { box-shadow: 0 4px 25px rgba(76, 175, 80, 0.5); }
        }
        
        .auth-btn {
            padding: 10px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 16px;
        }
        
        .login-btn {
            background: var(--secondary);
            color: white;
        }
        
        .register-btn {
            background: var(--primary);
            color: white;
        }
        
        .logout-btn {
            background: var(--danger);
            color: white;
        }
        
        /* ===== GAMES GRID ===== */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 50px 0;
        }
        
        .game-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .game-card:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
            background: rgba(255, 64, 129, 0.1);
        }
        
        .game-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }
        
        /* ===== FEATURES ===== */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            padding: 100px 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .feature {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .feature:hover {
            transform: translateY(-10px);
            border-color: var(--primary);
        }
        
        .feature-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }
        
        /* ===== WINNERS SECTION ===== */
        .winners-slider {
            display: flex;
            gap: 30px;
            overflow-x: auto;
            padding: 20px 0;
            scrollbar-width: none;
        }
        
        .winners-slider::-webkit-scrollbar {
            display: none;
        }
        
        .winner-card {
            min-width: 280px;
            background: var(--dark-light);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* ===== GLOBAL REACH ===== */
        .countries-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        
        .country-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            transition: all 0.3s ease;
        }
        
        .country-item:hover {
            background: rgba(255, 64, 129, 0.1);
            transform: translateX(5px);
        }
        
        /* ===== FOOTER ===== */
        .footer {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid var(--secondary);
            color: var(--text-secondary);
        }
        
        /* ===== LOADING OVERLAY ===== */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--dark);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }
        
        .loading-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loader {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(255, 64, 129, 0.3);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* ===== TOAST NOTIFICATIONS ===== */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1001;
        }
        
        .toast {
            background: var(--dark-light);
            border-left: 4px solid var(--success);
            padding: 15px 20px;
            margin-top: 10px;
            border-radius: 8px;
            min-width: 300px;
            display: flex;
            align-items: center;
            gap: 12px;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .toast.error {
            border-left-color: var(--danger);
        }
        
        .toast.warning {
            border-left-color: var(--warning);
        }
        
        /* ===== MONEY ANIMATION ===== */
        .money {
            position: fixed;
            font-size: 32px;
            color: gold;
            text-shadow: 0 0 15px gold;
            animation: fall linear infinite;
            pointer-events: none;
            z-index: -1;
        }
        
        @keyframes fall {
            to { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            .container { padding: 20px; }
            .hero h1 { font-size: 36px; }
            .bonus-amount { font-size: 60px; }
            .logo { font-size: 32px; }
            .logo::before { font-size: 40px; }
            .nav { flex-direction: column; }
        }
        
        /* ===== UTILITY ===== */
        .hidden { display: none !important; }
        .text-center { text-align: center; }
        .mt-4 { margin-top: 40px; }
        .mb-4 { margin-bottom: 40px; }
        .fade-in { animation: fadeIn 0.8s ease; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .btn-primary {
            background: linear-gradient(45deg, var(--primary), var(--warning));
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
        }
        
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 30px rgba(255, 64, 129, 0.4);
        }
    </style>
</head>
<body>
    <!-- Money Animation -->
    <div id="moneyAnimation"></div>
    
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="loader"></div>
        <p>Loading London 2020...</p>
    </div>
    
    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>
    
    <!-- Main Container -->
    <div class="container">
        
        <!-- Header -->
        <header class="header">
            <div class="logo">
                LONDON 2020
                <span class="status-badge">‚óè LIVE</span>
            </div>
            
            <!-- Public Navigation -->
            <div id="navPublic" class="nav">
                <a href="#home" class="nav-btn">üè† Home</a>
                <a href="#games" class="nav-btn">üéÆ Games</a>
                <a href="#bonus" class="nav-btn">üí∞ $50 Bonus</a>
                <a href="wallet.html" class="nav-btn">üí≥ Wallet</a>
                <a href="contact.html" class="nav-btn">‚ÑπÔ∏è About</a>
                
                <div class="user-section">
                    <div id="authButtons">
                        <button class="auth-btn login-btn" id="loginBtn">Login</button>
                        <button class="auth-btn register-btn" id="registerBtn">Register</button>
                    </div>
                    <button class="auth-btn logout-btn" id="logoutBtn" style="display: none;">Logout</button>
                </div>
            </div>
            
            <!-- Authenticated Navigation -->
            <div id="navAuth" class="nav hidden">
                <a href="dashboard.html" class="nav-btn">üìä Dashboard</a>
                <a href="games.html" class="nav-btn">üéÆ Games</a>
                <a href="bets.html" class="nav-btn">üí∞ Bets</a>
                <a href="wallet.html" class="nav-btn">üí≥ Wallet</a>
                <a href="contact.html" class="nav-btn">‚ÑπÔ∏è About</a>
                
                <div class="user-section">
                    <div id="userBalance" class="balance" style="display: none;">$0.00</div>
                    <button class="auth-btn logout-btn" id="logoutBtnAuth">Logout</button>
                </div>
            </div>
        </header>
        
        <!-- Hero Section -->
        <section class="hero" id="home">
            <h1>WELCOME TO LONDON 2020</h1>
            <p style="font-size: 20px; margin-bottom: 30px;">
                Premium betting experience with instant rewards
            </p>
            
            <div class="bonus-badge" id="bonus">
                <h2>üéÅ INSTANT WELCOME BONUS</h2>
                <div class="bonus-amount">$50</div>
                <p style="margin-top: 20px;">Register now and get $50 instantly!</p>
                <button class="btn-primary" id="claimBonusBtn">
                    üéØ CLAIM $50 BONUS
                </button>
            </div>
        </section>
        
        <!-- Featured Games -->
        <section id="games" style="margin-top: 60px;">
            <h2 style="text-align: center; font-size: 36px; margin-bottom: 40px;">
                üéÆ FEATURED GAMES
            </h2>
            
            <div class="games-grid">
                <div class="game-card" onclick="playGame('slots')">
                    <div class="game-icon">üé∞</div>
                    <h3>Slot Machine</h3>
                    <p>Classic slots with big wins up to 100x</p>
                    <div style="margin-top: 15px; color: var(--accent);">97.5% RTP</div>
                </div>
                
                <div class="game-card" onclick="playGame('blackjack')">
                    <div class="game-icon">üÉè</div>
                    <h3>Blackjack</h3>
                    <p>Beat the dealer to 21 with 500x wins</p>
                    <div style="margin-top: 15px; color: var(--accent);">98.2% RTP</div>
                </div>
                
                <div class="game-card" onclick="playGame('roulette')">
                    <div class="game-icon">üé°</div>
                    <h3>Roulette</h3>
                    <p>Spin the wheel of fortune with $1.2M jackpot</p>
                    <div style="margin-top: 15px; color: var(--accent);">96.8% RTP</div>
                </div>
                
                <div class="game-card" onclick="playGame('poker')">
                    <div class="game-icon">‚ô†Ô∏è</div>
                    <h3>Video Poker</h3>
                    <p>Test your poker skills with real players</p>
                    <div style="margin-top: 15px; color: var(--accent);">99.0% RTP</div>
                </div>
            </div>
            
            <!-- Login CTA -->
            <div id="loginCTA" class="text-center mt-4" style="padding: 40px; background: rgba(255, 64, 129, 0.1); border-radius: 20px;">
                <h3 style="margin-bottom: 20px;">Ready to Play?</h3>
                <p style="color: var(--text-secondary); margin-bottom: 30px;">
                    Create your account in 30 seconds and claim your welcome bonus!
                </p>
                <button id="registerHeroBtn" class="btn-primary">
                    üéÅ GET $1,000 BONUS
                </button>
            </div>
        </section>
        
        <!-- Recent Winners -->
        <section id="winners" style="margin-top: 60px; background: rgba(15, 23, 42, 0.5); padding: 60px 20px; border-radius: 20px;">
            <h2 style="text-align: center; font-size: 36px; margin-bottom: 40px;">üèÜ RECENT WINNERS</h2>
            <p class="text-center" style="color: var(--text-secondary); margin-bottom: 60px;">
                Real players winning real money every minute
            </p>
            
            <div class="winners-slider" id="winnersSlider">
                <!-- Winners loaded dynamically -->
            </div>
        </section>
        
        <!-- Global Reach -->
        <section id="global" style="margin-top: 60px;">
            <h2 style="text-align: center; font-size: 36px; margin-bottom: 40px;">üåç GLOBAL COMMUNITY</h2>
            
            <div class="countries-grid">
                <div class="country-item">
                    <span>üá∫üá∏ United States</span>
                    <span style="margin-left: auto; font-weight: bold; color: var(--primary);">85,432 players</span>
                </div>
                <div class="country-item">
                    <span>üá¨üáß United Kingdom</span>
                    <span style="margin-left: auto; font-weight: bold; color: var(--primary);">42,156 players</span>
                </div>
                <div class="country-item">
                    <span>üá©üá™ Germany</span>
                    <span style="margin-left: auto; font-weight: bold; color: var(--primary);">38,921 players</span>
                </div>
                <div class="country-item">
                    <span>üá®üá¶ Canada</span>
                    <span style="margin-left: auto; font-weight: bold; color: var(--primary);">31,487 players</span>
                </div>
                <div class="country-item">
                    <span>üá¶üá∫ Australia</span>
                    <span style="margin-left: auto; font-weight: bold; color: var(--primary);">28,634 players</span>
                </div>
                <div class="country-item">
                    <span>üáØüáµ Japan</span>
                    <span style="margin-left: auto; font-weight: bold; color: var(--primary);">25,912 players</span>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 40px;">
                <div style="display: inline-block; background: rgba(76, 175, 80, 0.2); padding: 30px; border-radius: 15px;">
                    <div style="font-size: 14px; opacity: 0.8;">TOTAL PLAYERS</div>
                    <div id="totalPlayers" style="font-size: 72px; font-weight: bold; color: #4caf50;">
                        500K+
                    </div>
                    <div style="margin-top: 10px; color: var(--text-secondary);">
                        <span style="color: gold;">$45M+</span> Total Winnings ‚Ä¢ <span style="color: var(--success);">99.7%</span> Payout Rate
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Footer -->
        <footer class="footer" id="about">
            <p style="font-size: 24px; margin-bottom: 20px;">London 2020 ¬© All Rights Reserved</p>
            <p style="opacity: 0.7; margin-bottom: 10px;">Responsible gaming is our priority</p>
            <p style="opacity: 0.5; font-size: 14px; margin-top: 20px;">
                Site Status: <span id="site-status">‚úÖ ONLINE</span> ‚Ä¢ 
                Last Update: <span id="update-time">Just now</span>
            </p>
        </footer>
        
    </div>
    
    <!-- KEEP YOUR EXISTING JAVASCRIPT (Only style changed) -->
    <script>
        // ===== FIREBASE CONFIGURATION =====
        const firebaseConfig = {
            apiKey: "AIzaSyA72Yo_YGqno9PX25p3yQBvyflcaM-NqEM",
            authDomain: "x-bet-prod-jd.firebaseapp.com",
            projectId: "x-bet-prod-jd",
            storageBucket: "x-bet-prod-jd.firebasestorage.app",
            messagingSenderId: "499334334535",
            appId: "1:499334334535:web:bebc1bf817e24d9e3c4962",
            measurementId: "G-PTV4XMYQ6P"
        };
        
        // ===== GLOBAL VARIABLES =====
        let auth, db;
        let currentUser = null;
        let userData = null;
        let liveStatsInterval;
        
        // ===== INITIALIZATION =====
        document.addEventListener('DOMContentLoaded', async () => {
            try {
                // Initialize Firebase
                firebase.initializeApp(firebaseConfig);
                auth = firebase.auth();
                db = firebase.firestore();
                
                console.log("‚úÖ Firebase initialized for London 2020");
                
                // Create money animation
                createMoneyAnimation();
                
                // Setup event listeners
                setupEventListeners();
                
                // Check authentication state
                auth.onAuthStateChanged(handleAuthStateChange);
                
                // Load initial content
                loadWinners();
                startLiveStats();
                setupScrollAnimations();
                
                // Update time
                updateTime();
                
                // Hide loading overlay
                setTimeout(() => {
                    document.getElementById('loadingOverlay').classList.add('hidden');
                }, 1000);
                
                // Auto bonus message
                if (!localStorage.getItem('bonusShown')) {
                    setTimeout(() => {
                        showToast('üéÅ First time? Claim your $50 welcome bonus!', 'success');
                    }, 2000);
                    localStorage.setItem('bonusShown', 'true');
                }
                
            } catch (error) {
                console.error("Initialization error:", error);
                showToast('‚ùå Error initializing. Please refresh.', 'error');
            }
        });
        
        // ===== MONEY ANIMATION =====
        function createMoneyAnimation() {
            const container = document.getElementById('moneyAnimation');
            const symbols = ['üí∞', 'üíµ', 'üí∏', 'ü™ô', 'üíé'];
            
            for (let i = 0; i < 20; i++) {
                const money = document.createElement('div');
                money.className = 'money';
                money.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                money.style.left = Math.random() * 100 + 'vw';
                money.style.animationDuration = (Math.random() * 15 + 10) + 's';
                money.style.animationDelay = Math.random() * 3 + 's';
                container.appendChild(money);
            }
        }
        
        // ===== AUTHENTICATION HANDLER =====
        function handleAuthStateChange(user) {
            if (user) {
                // User is logged in
                currentUser = user;
                loadUserData();
                showAuthNavigation();
                hideLoginCTA();
            } else {
                // User is not logged in
                currentUser = null;
                userData = null;
                showPublicNavigation();
                showLoginCTA();
            }
        }
        
        async function loadUserData() {
            try {
                const userDoc = await db.collection('wallets').doc(currentUser.uid).get();
                
                if (userDoc.exists) {
                    userData = userDoc.data();
                    updateUserDisplay();
                    
                    // Setup real-time balance listener
                    setupBalanceListener();
                }
            } catch (error) {
                console.error("Error loading user data:", error);
            }
        }
        
        function setupBalanceListener() {
            return db.collection('wallets').doc(currentUser.uid)
                .onSnapshot(doc => {
                    if (doc.exists) {
                        userData = doc.data();
                        updateUserDisplay();
                    }
                });
        }
        
        // ===== NAVIGATION MANAGEMENT =====
        function showAuthNavigation() {
            document.getElementById('navPublic').classList.add('hidden');
            document.getElementById('navAuth').classList.remove('hidden');
            document.getElementById('userBalance').style.display = 'block';
        }
        
        function showPublicNavigation() {
            document.getElementById('navPublic').classList.remove('hidden');
            document.getElementById('navAuth').classList.add('hidden');
            document.getElementById('userBalance').style.display = 'none';
        }
        
        function updateUserDisplay() {
            if (!userData) return;
            
            const balance = userData.balance || 0;
            document.getElementById('userBalance').textContent = `$${balance.toFixed(2)}`;
        }
        
        function hideLoginCTA() {
            document.getElementById('loginCTA').classList.add('hidden');
        }
        
        function showLoginCTA() {
            document.getElementById('loginCTA').classList.remove('hidden');
        }
        
        // ===== WINNERS DATA =====
        async function loadWinners() {
            try {
                const winners = [
                    { name: "Alex Johnson", country: "üá∫üá∏", amount: 12450, game: "Roulette", time: "2 min ago" },
                    { name: "Maria Garcia", country: "üá™üá∏", amount: 8450, game: "Lucky Dice", time: "5 min ago" },
                    { name: "Kenji Tanaka", country: "üáØüáµ", amount: 23100, game: "Slots", time: "10 min ago" },
                    { name: "Sarah Miller", country: "üá®üá¶", amount: 5600, game: "Poker", time: "15 min ago" },
                    { name: "David Smith", country: "üá¨üáß", amount: 18900, game: "Blackjack", time: "20 min ago" }
                ];
                
                const container = document.getElementById('winnersSlider');
                container.innerHTML = '';
                
                winners.forEach(winner => {
                    const winnerCard = document.createElement('div');
                    winnerCard.className = 'winner-card';
                    
                    winnerCard.innerHTML = `
                        <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                            <div style="width: 50px; height: 50px; background: linear-gradient(45deg, #ff4081, #ff9800); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; color: white; font-size: 20px;">
                                ${winner.name.split(' ').map(n => n[0]).join('')}
                            </div>
                            <div>
                                <h4 style="margin: 0;">${winner.name}</h4>
                                <div style="font-size: 14px; color: rgba(255,255,255,0.7);">${winner.country} ‚Ä¢ ${winner.time}</div>
                            </div>
                        </div>
                        <div style="font-size: 28px; font-weight: bold; color: gold; margin: 10px 0;">$${winner.amount.toLocaleString()}</div>
                        <p style="margin: 0; color: rgba(255,255,255,0.8);">Won playing <strong>${winner.game}</strong></p>
                    `;
                    
                    container.appendChild(winnerCard);
                });
                
            } catch (error) {
                console.error("Error loading winners:", error);
            }
        }
        
        // ===== LIVE STATISTICS =====
        function startLiveStats() {
            liveStatsInterval = setInterval(() => {
                const totalPlayers = document.getElementById('totalPlayers');
                if (totalPlayers) {
                    const players = ['500K+', '505K+', '510K+', '515K+', '520K+'];
                    const randomPlayer = players[Math.floor(Math.random() * players.length)];
                    totalPlayers.textContent = randomPlayer;
                }
            }, 10000);
        }
        
        // ===== SCROLL ANIMATIONS =====
        function setupScrollAnimations() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, { threshold: 0.1 });
            
            document.querySelectorAll('.game-card').forEach(card => {
                observer.observe(card);
            });
        }
        
        // ===== EVENT LISTENERS =====
        function setupEventListeners() {
            // Login button
            document.getElementById('loginBtn').addEventListener('click', () => {
                window.location.href = 'login.html';
            });
            
            // Register buttons
            document.getElementById('registerBtn').addEventListener('click', () => {
                window.location.href = 'register.html';
            });
            
            document.getElementById('registerHeroBtn').addEventListener('click', () => {
                window.location.href = 'register.html';
            });
            
            // Claim bonus button
            document.getElementById('claimBonusBtn').addEventListener('click', () => {
                if (!currentUser) {
                    window.location.href = 'register.html';
                } else {
                    claimBonus();
                }
            });
            
            // Logout buttons
            document.getElementById('logoutBtn').addEventListener('click', handleLogout);
            document.getElementById('logoutBtnAuth').addEventListener('click', handleLogout);
            
            // Game cards
            document.querySelectorAll('.game-card').forEach(card => {
                card.addEventListener('click', function() {
                    if (!currentUser) {
                        showToast('Please login to play games', 'warning');
                        window.location.href = 'login.html';
                    } else {
                        window.location.href = 'games.html';
                    }
                });
            });
        }
        
        // ===== BONUS FUNCTION =====
        async function claimBonus() {
            try {
                if (!currentUser) {
                    showToast('Please login to claim bonus', 'warning');
                    window.location.href = 'login.html';
                    return;
                }
                
                const walletRef = db.collection('wallets').doc(currentUser.uid);
                await db.runTransaction(async (transaction) => {
                    const walletDoc = await transaction.get(walletRef);
                    if (!walletDoc.exists) return;
                    
                    const currentBalance = walletDoc.data().balance || 0;
                    const newBalance = currentBalance + 50;
                    
                    transaction.update(walletRef, {
                        balance: newBalance,
                        updatedAt: new Date()
                    });
                    
                    // Add transaction record
                    const transactionRef = db.collection('wallets').doc(currentUser.uid).collection('transactions').doc();
                    transaction.set(transactionRef, {
                        userId: currentUser.uid,
                        type: 'bonus',
                        amount: 50,
                        description: 'Welcome Bonus',
                        status: 'completed',
                        createdAt: new Date()
                    });
                });
                
                showToast('üéâ $50 bonus added to your account!', 'success');
                
                // Confetti effect
                for(let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        const confetti = document.createElement('div');
                        confetti.textContent = 'üéâ';
                        confetti.style.cssText = `
                            position: fixed;
                            font-size: 24px;
                            animation: fall 2s linear;
                            left: ${Math.random() * 100}vw;
                            top: -50px;
                            z-index: 1000;
                        `;
                        document.body.appendChild(confetti);
                        setTimeout(() => confetti.remove(), 2000);
                    }, i * 100);
                }
                
            } catch (error) {
                console.error("Bonus claim error:", error);
                showToast('‚ùå Error claiming bonus', 'error');
            }
        }
        
        // ===== LOGOUT HANDLER =====
        async function handleLogout() {
            try {
                document.getElementById('loadingOverlay').classList.remove('hidden');
                await auth.signOut();
                
                currentUser = null;
                userData = null;
                
                showPublicNavigation();
                showLoginCTA();
                
                setTimeout(() => {
                    document.getElementById('loadingOverlay').classList.add('hidden');
                }, 500);
                
                showToast('‚úÖ Successfully logged out', 'success');
                
            } catch (error) {
                console.error("Logout error:", error);
                showToast('‚ùå Logout failed', 'error');
                document.getElementById('loadingOverlay').classList.add('hidden');
            }
        }
        
        // ===== TOAST NOTIFICATION =====
        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            
            container.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }
        
        // ===== UPDATE TIME =====
        function updateTime() {
            const now = new Date();
            document.getElementById('update-time').textContent = 
                now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            setTimeout(updateTime, 60000);
        }
        
        // ===== CLEANUP =====
        window.addEventListener('beforeunload', () => {
            if (liveStatsInterval) clearInterval(liveStatsInterval);
        });
        
        // Make functions global
        window.playGame = (game) => {
            if (!currentUser) {
                showToast('Please login to play games', 'warning');
                window.location.href = 'login.html';
            } else {
                showToast(`Starting ${game}...`, 'success');
                // In actual implementation, this would redirect to game page
            }
        };
        
        window.deposit = () => {
            showToast('Redirecting to deposit page...', 'info');
            window.location.href = 'wallet.html';
        };
        
        window.withdraw = () => {
            showToast('Redirecting to withdrawal page...', 'info');
            window.location.href = 'wallet.html';
        };
    </script>
</body>
</html>
